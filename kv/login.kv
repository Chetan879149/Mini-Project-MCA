<LoginSignupScreen>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: "assets/logo2.png"
            size_hint_y: None
            height: "84dp"
            allow_stretch: True
            pos_hint: {"center_x": 0.5}
        ScreenManager:
            id: login_views
            size_hint_y: 1

            Screen:
                name: 'login_view'
                BoxLayout:
                    orientation: 'vertical'
                    padding: 20
                    spacing: 10

                    TextInput:
                        id: adhar_input
                        hint_text: 'Aadhar No.'
                        size_hint_y: None
                        height: 40
                    
                    TextInput:
                        id: password_input
                        hint_text: 'Password'
                        password: True
                        size_hint_y: None
                        height: 40
                    
                    Spinner:
                        id: role_spinner
                        text: 'Select Role'
                        values: ['Admin', 'Doctor', 'Patient']
                        color: 0, 0, 0, 1
                        background_color: 1, 1, 1, 1
                        size_hint_y: None
                        height: 40

                    Button:
                        text: 'Log In'
                        background_color: (0.12, 0.5, 0.37, 1)
                        color: 1,1,1,1
                        size_hint_y: None
                        height: 42
                        on_release: root.validate_login()

                    BoxLayout:
                        size_hint_y: None
                        height: 28

                        Button:
                            text: "Forgot password?"
                            background_color: 0,0,0,0
                            color: 0.18, 0.34, 0.82, 1
                            on_release: root.screen_switch('forgot_view')
                        Button:
                            text: "Sign Up"
                            background_color: 0,0,0,0
                            color: 0.18, 0.34, 0.82, 1
                            on_release: root.screen_switch('signup_view')

            Screen:
                name: 'signup_view'
                BoxLayout:
                    orientation: 'vertical'
                    padding: 20
                    spacing: 10

                    TextInput:
                        id: name_input
                        hint_text: "Name"
                        size_hint_y: None
                        height: 38

                    TextInput:
                        id: email_input
                        hint_text: "Email"
                        size_hint_y: None
                        height: 38

                    TextInput:
                        id: signup_adhar_input
                        hint_text: "Aadhar No."
                        size_hint_y: None
                        height: 38

                    TextInput:
                        id: phone_input
                        hint_text: "Phone number"
                        size_hint_y: None
                        height: 38

                    TextInput:
                        id: signup_password_input
                        hint_text: "Password"
                        password: True
                        size_hint_y: None
                        height: 38

                    Spinner:
                        id: signup_role_spinner
                        text: "Signin as"
                        values: ["Patient", "Doctor"]  # No Admin
                        color: 0, 0, 0, 1
                        background_color: 1, 1, 1, 1
                        size_hint_y: None
                        height: 38

                    Button:
                        text: 'Sign Up'
                        background_color: (0.12, 0.5, 0.37, 1)
                        color: 1,1,1,1
                        size_hint_y: None
                        height: 42
                        on_release: root.validate_signup()
                    Button:
                        text: '← Back'
                        background_color: 0,0,0,0
                        color: 0.18, 0.34, 0.82, 1
                        on_release: root.screen_switch('login_view')

            Screen:
                name: 'forgot_view'
                BoxLayout:
                    orientation: 'vertical'
                    padding: 20
                    spacing: 8

                    TextInput:
                        id: forgot_adhar_input
                        hint_text: "Enter Aadhar"
                        size_hint_y: None
                        height: 34
                    Button:
                        text: "Get OTP"
                        background_color: (0.12, 0.5, 0.37, 1)
                        color: 1,1,1,1
                        size_hint_y: None
                        height: 38
                        on_release: root.send_otp()
                    Label:
                        id: otp_notice
                        text: ""
                        size_hint_y: None
                        height: 15
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 4
                        size_hint_y: None
                        height: 34
                        TextInput:
                            id: otp1
                            input_filter: 'int'
                            size_hint_x: 0.2
                            font_size: 18
                            multiline: False
                        TextInput:
                            id: otp2
                            input_filter: 'int'
                            size_hint_x: 0.2
                            font_size: 18
                            multiline: False
                        TextInput:
                            id: otp3
                            input_filter: 'int'
                            size_hint_x: 0.2
                            font_size: 18
                            multiline: False
                        TextInput:
                            id: otp4
                            input_filter: 'int'
                            size_hint_x: 0.2
                            font_size: 18
                            multiline: False
                    Button:
                        text: "Confirm"
                        background_color: 0.18,0.34,0.82,1
                        color: 1,1,1,1
                        size_hint_y: None
                        height: 38
                        on_release: root.verify_otp()
                    Button:
                        text: "← Back"
                        background_color: 0,0,0,0
                        color: 0.18, 0.34, 0.82, 1
                        on_release: root.screen_switch('login_view')
